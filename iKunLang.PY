"""
        		  iKunLang
        	    çˆ±å¤è¯­è¨€å“ˆå“ˆå“ˆ
        	   iKunæŒ‡å®šç¼–ç¨‹è¯­è¨€
        	   (ç›´æ¥åŸºäº4è¿›åˆ¶å“ˆ)
        	  By Flysmallfish

	å¤‡æ³¨ï¼šè¯ç©·äº†å“ˆå“ˆï¼Œä¸€äº›å˜é‡åç”¨çš„ä¸­æ–‡ğŸ¤£æˆ‘å°±æ˜¯å°é»‘å­ï¼ï¼ğŸ˜
ç®€å•ä¿®æ”¹ä¸€ä¸‹å°±èƒ½æŠŠ é¸¡ä½ å¤ªç¾ å˜æˆå…¶ä»–çš„ã€‚

ä½œè€…Bilibili :   https://space.bilibili.com/1292466375 (å˜¿å˜¿æŠ•ä¸ªå¸å§ï¼)
ä½œè€… Q Q  å· :   2040244628 (è¯·å‹¿æ‰“æ‰°ï¼Œæ‹œæ‰˜ğŸ˜‰)
å¼€æº    åœ°å€ :	 https://github.com/Flysmallfish/iKunLang-PyCodeToQuaternary
"""
import sys

class pytomycode():
	def ascii(t):
		new = []
		for i in t:
			new.append(ord(i))
		return new

	def f(n,x):
		a=[0,1,2,3,4,5,6,7,8,9,'A','B','C','D','E','F']
		b=[]
		while True:
			s=n//x
			y=n%x
			b=b+[y]
			if s==0:break
			n=s

		ret = ''
		for i in b[::-1]:
			ret = ret+str(a[i])
		return ret

	def nbf(asc,x):
		for i in asc:
			asc[asc.index(i)] = int ( pytomycode.f(i,x) )
		return asc

	def re(s):
		n=[]

		for i in s:
			n.append(str(s[ s.index(i) ]) .replace("0","é¸¡") .replace("1","ä½ ") .replace("2","å¤ª") .replace("3","ç¾"))

		return n

class mycodetopy():
	def char(t):
		new = []
		for i in t:
			new.append(chr(i))
		return new

	def ftoten(num,n):

		baseStr = {"0":0,"1":1,"2":2,"3":3,"4":4,"5":5,"6":6,"7":7,"8":8,"9":9,
              "a":10,"b":11,"c":12,"d":13,"e":14,"f":15,"g":16,"h":17,"i":18,"j":19}
		new_num = 0
		nNum = len(num) - 1
		for i in num:
			new_num = new_num  + baseStr[i]*pow(n,nNum)
			nNum = nNum -1
		
		return new_num

	def re(s):
		n=[]

		for i in s:
			n.append(int(str(s[ s.index(i) ]) .replace("é¸¡","0") .replace("ä½ ","1") .replace("å¤ª","2") .replace("ç¾","3"),4))

		return n

	def ascii(t):
		new = []
		for i in t:
			new.append(chr(i))
		return new


def compile(åŸPy):
	#Pyç¼–è¯‘mylang

	åŸPyè½¬ascii = pytomycode.ascii (åŸPy)

	åŸPyAscii4è¿›åˆ¶ = pytomycode.nbf (åŸPyè½¬ascii,4)


	nb = pytomycode.re(åŸPyAscii4è¿›åˆ¶)
	è½¬æ¢ = ''
	for i in nb:
		è½¬æ¢ = è½¬æ¢+i+" "

	return è½¬æ¢


#mylangç¼–è¯‘Py
def explain(mylangcode):

	ls = mylangcode.split()

	asc = mycodetopy.re(ls)

	ä»£ç  = mycodetopy.ascii(asc)

	ä»£ç  = "".join(ä»£ç )

	if ä»£ç  != '':
		print("[Log] è¿è¡Œä»£ç  (Cpython) - "+ä»£ç +"\n")

	exec(ä»£ç )

if __name__ == "__main__":

	print('Python è§£é‡Šå™¨ - '+sys.version+' on PC\nFish   è§£é‡Šå™¨ - 1.0.0 (tags/v1.0.0, June 23 2022, 14:34:06) Type "compile" to get pythonCmdS MyCmd')

	try:
		f=open(sys.argv[1],'r',encoding='utf-8',errors='ignore')
		print("\n\n[Log] å·²å¼€å§‹è¿è¡Œæ–‡ä»¶: "+sys.argv[1]+"  !\n")

		try:
			explain(f.read())
		except Exception as error:
			print(error)	
		f.close()

	except:
		pass

	import pyperclip

	while True:
		i = input(">>> ")
		if i == "compile":
			pc=input("Cin the PyCode>>> ")
			print(pc+"'s mylangcode is "+compile(pc)+"\n(Auto copy | è‡ªåŠ¨å¤åˆ¶å“¦ï¼)")
			pyperclip.copy(compile(pc))
		else:
			try:
				explain(i)
			except Exception as error:
				print(error)

	import os
	os.system("pause")	